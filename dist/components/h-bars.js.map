{"version":3,"file":"h-bars.js","sources":["../../src/components/h-bars.gts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2020, 2026\n */\n\nimport Component from '@glimmer/component';\nimport { cached } from '@glimmer/tracking';\nimport { merge } from 'd3-array';\n\nimport { Encoding } from '../utils/encoding.ts';\nimport { ScaleLinear, ScaleOrdinal } from '../utils/scale.ts';\nimport { qualifyScale, scaleFrom } from '../utils/mark-utils.ts';\nimport { cssFourPropParse } from '../utils/css-four-prop-parse.ts';\nimport { roundedRect } from '../utils/rounded-rect.ts';\nimport CSSRange from '../utils/css-range.ts';\nimport Stack from '../transforms/stack.ts';\n\nimport type { Accessor } from '../utils/encoding.ts';\nimport type { Scale } from '../utils/scale.ts';\n\nexport interface BarsSignature {\n  Args: {\n    data: any[];\n    x0?: Accessor;\n    x?: Accessor;\n    y?: Accessor;\n    height: Accessor;\n    color?: Accessor;\n    xScale?: Scale;\n    yScale?: Scale;\n    heightScale?: Scale;\n    colorScale?: Scale | string;\n    borderRadius?: string;\n  };\n\n  Blocks: {\n    default: [];\n  };\n\n  Element: SVGGElement;\n}\n\nexport interface BarDatum {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  datum: any;\n  d?: string;\n}\n\nexport interface BarSeries {\n  bars: BarDatum[];\n  fill?: string;\n  cssClass?: string;\n}\n\nexport default class Bars extends Component<BarsSignature> {\n  @cached\n  get x() {\n    return new Encoding(this.args.x ?? 'x');\n  }\n\n  @cached\n  get x0() {\n    if (this.args.x0) return new Encoding(this.args.x0);\n    return undefined;\n  }\n\n  @cached\n  get y() {\n    return new Encoding(this.args.y ?? 'y');\n  }\n\n  @cached\n  get height() {\n    return new Encoding(this.args.height);\n  }\n\n  @cached\n  get color() {\n    if (this.args.color) return new Encoding(this.args.color);\n\n    return undefined;\n  }\n\n  @cached\n  get xScale() {\n    const scale =\n      scaleFrom(this.args.x ?? 'x', this.args.xScale) || new ScaleLinear();\n    if (this.isStacked) {\n      const allXValues = merge(this.data)\n        .map((d: any) => [d.x, d.x0])\n        .flat();\n      qualifyScale(this, scale, new Encoding((d) => d), 'x', allXValues);\n    } else {\n      qualifyScale(this, scale, this.x, 'x');\n    }\n    return scale;\n  }\n\n  @cached\n  get yScale() {\n    const scale =\n      scaleFrom(this.args.y ?? 'y', this.args.yScale) || new ScaleLinear();\n    if (this.isStacked) {\n      qualifyScale(this, scale, new Encoding('y'), 'y', merge(this.data));\n    } else {\n      qualifyScale(this, scale, this.y, 'y');\n    }\n    return scale;\n  }\n\n  @cached\n  get heightScale() {\n    const scale =\n      scaleFrom(this.args.height, this.args.heightScale) || new ScaleLinear();\n    qualifyScale(this, scale, this.height, 'height');\n    return scale;\n  }\n\n  @cached\n  get isStacked(): boolean {\n    return !!this.color || this.args.data[0] instanceof Array;\n  }\n\n  @cached\n  get categories(): undefined | any[] {\n    if (this.isStacked) {\n      return this.data.map((series) => series.key);\n    }\n\n    return undefined;\n  }\n\n  @cached\n  get data(): any[] {\n    // When data isn't stacked, pass through\n    if (!this.isStacked) return this.args.data;\n\n    // When data is already stacked, pass through\n    if (this.args.data[0] instanceof Array) return this.args.data;\n\n    // Finally, stack data that should be stacked but isn't yet\n    return new Stack({\n      x: this.args.x ?? 'x',\n      y: this.args.y ?? 'y',\n      z: this.args.color!,\n      data: this.args.data,\n      direction: 'horizontal',\n    }).data;\n  }\n\n  // When there is no color scale, don't color-code drawn points\n  @cached\n  get colorScale(): Scale | undefined {\n    const scale = this.args.colorScale;\n    if (scale && this.isStacked) {\n      if (scale instanceof Object) return scale;\n\n      return new ScaleOrdinal({\n        domain: Array.from(this.categories ?? []),\n        range: new CSSRange(scale),\n      });\n    }\n\n    return undefined;\n  }\n\n  @cached\n  get useCSSClass() {\n    return (\n      this.colorScale instanceof Object &&\n      this.colorScale.range instanceof CSSRange\n    );\n  }\n\n  @cached\n  get borderRadius() {\n    if (this.args.borderRadius) return cssFourPropParse(this.args.borderRadius);\n\n    return undefined;\n  }\n\n  @cached\n  get bars(): BarDatum[] | BarSeries[] {\n    if (\n      !this.xScale.isValid ||\n      !this.yScale.isValid ||\n      !this.heightScale.isValid\n    ) {\n      return [];\n    }\n\n    const borderRadius = this.borderRadius;\n\n    if (this.isStacked) {\n      return this.data.map((series) => {\n        const idx = series.visualOrder;\n        const barSeries: BarSeries = {\n          bars: series.map(\n            (d: any): BarDatum => ({\n              x: this.xScale.compute(d.x0),\n              y: this.yScale.compute(d.y),\n              width: this.xScale.compute(d.x) - this.xScale.compute(d.x0),\n              height: this.heightScale.compute(this.height.accessor(d)),\n              datum: d,\n            }),\n          ),\n        };\n\n        if (borderRadius && (idx === 0 || idx === this.data.length - 1)) {\n          const radii = {\n            topLeft: borderRadius.top,\n            topRight: borderRadius.right,\n            bottomRight: borderRadius.bottom,\n            bottomLeft: borderRadius.left,\n          };\n\n          // When multi series, render top corners if first series,\n          // or the bottom coners if last series.\n          if (this.data.length > 1) {\n            Object.assign(\n              radii,\n              idx === 0\n                ? { topRight: 0, bottomRight: 0 }\n                : { topLeft: 0, bottomLeft: 0 },\n            );\n          }\n\n          barSeries.bars.forEach((bar) => {\n            bar.d = roundedRect(bar, radii, true);\n          });\n        }\n\n        if (this.colorScale) {\n          const colorValue = this.colorScale.compute(series.key);\n          if (this.useCSSClass) {\n            barSeries.cssClass = colorValue;\n          } else {\n            barSeries.fill = colorValue;\n          }\n        }\n\n        return barSeries;\n      });\n    } else {\n      const bars = this.args.data.map(\n        (d: any): BarDatum => ({\n          x: this.xScale.compute(this.x.accessor(d)),\n          y: this.yScale.compute(this.y.accessor(d)),\n          height: this.heightScale.compute(this.height.accessor(d)),\n          width:\n            this.xScale.compute(this.x.accessor(d)) -\n            this.xScale.compute(this.x0?.accessor(d) ?? 0),\n          datum: d,\n        }),\n      );\n\n      if (borderRadius) {\n        const radii = {\n          topLeft: borderRadius.top,\n          topRight: borderRadius.right,\n          bottomRight: borderRadius.bottom,\n          bottomLeft: borderRadius.left,\n        };\n\n        bars.forEach((bar) => {\n          bar.d = roundedRect(bar, radii, true);\n        });\n      }\n\n      return bars;\n    }\n  }\n\n  <template>\n    {{#if this.isStacked}}\n      <g>\n        {{! @glint-expect-error }}\n        {{#each this.bars as |series|}}\n          <g>\n            {{! @glint-expect-error }}\n            {{#each series.bars as |b|}}\n              {{#if b.d}}\n                <path\n                  d={{b.d}}\n                  {{! @glint-expect-error }}\n                  fill={{series.fill}}\n                  {{! @glint-expect-error }}\n                  class={{series.cssClass}}\n                  ...attributes\n                ></path>\n              {{else}}\n                <rect\n                  x={{b.x}}\n                  y={{b.y}}\n                  width={{b.width}}\n                  height={{b.height}}\n                  {{! @glint-expect-error }}\n                  fill={{series.fill}}\n                  {{! @glint-expect-error }}\n                  class={{series.cssClass}}\n                  ...attributes\n                ></rect>\n              {{/if}}\n            {{/each}}\n          </g>\n        {{/each}}\n      </g>\n    {{else}}\n      <g>\n        {{! @glint-expect-error }}\n        {{#each this.bars as |b|}}\n          {{#if b.d}}\n            <path d={{b.d}} ...attributes></path>\n          {{else}}\n            <rect\n              x={{b.x}}\n              y={{b.y}}\n              width={{b.width}}\n              height={{b.height}}\n              ...attributes\n            ></rect>\n          {{/if}}\n        {{/each}}\n      </g>\n    {{/if}}\n  </template>\n}\n"],"names":["Bars","Component","x","Encoding","args","n","prototype","cached","x0","undefined","y","height","color","xScale","scale","scaleFrom","ScaleLinear","isStacked","allXValues","merge","data","map","d","flat","qualifyScale","yScale","heightScale","Array","categories","series","key","Stack","z","direction","colorScale","Object","ScaleOrdinal","domain","from","range","CSSRange","useCSSClass","borderRadius","cssFourPropParse","bars","isValid","idx","visualOrder","barSeries","compute","width","accessor","datum","length","radii","topLeft","top","topRight","right","bottomRight","bottom","bottomLeft","left","assign","forEach","bar","roundedRect","colorValue","cssClass","fill","setComponentTemplate","precompileTemplate","strictMode"],"mappings":"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"}