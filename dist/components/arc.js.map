{"version":3,"file":"arc.js","sources":["../../src/components/arc.gts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2020, 2026\n */\n\nimport Component from '@glimmer/component';\nimport { cached } from '@glimmer/tracking';\nimport { hash } from '@ember/helper';\nimport { arc } from 'd3-shape';\n\nimport parseAngle from '../utils/parse-angle.ts';\n\nexport interface ArcSignature {\n  Args: {\n    innerRadius?: number | string;\n    outerRadius?: number | string;\n    cornerRadius?: number | string;\n    padRadius?: number | string;\n    startAngle?: number | string;\n    endAngle?: number | string;\n    padAngle?: number | string;\n  };\n\n  Blocks: {\n    default: [{ centroid: { x: number; y: number } }];\n  };\n\n  Element: SVGPathElement;\n}\n\nexport default class Arc extends Component<ArcSignature> {\n  @cached\n  get startAngle(): number {\n    return parseAngle(this.args.startAngle ?? 0);\n  }\n\n  @cached\n  get endAngle(): number {\n    return parseAngle(this.args.endAngle ?? Math.PI * 2);\n  }\n\n  @cached\n  get padAngle(): number | undefined {\n    if (this.args.padAngle) return parseAngle(this.args.padAngle);\n\n    return undefined;\n  }\n\n  @cached\n  get arc() {\n    const innerRadius =\n      typeof this.args.innerRadius === 'string'\n        ? parseFloat(this.args.innerRadius)\n        : (this.args.innerRadius ?? 0);\n    const outerRadius =\n      typeof this.args.outerRadius === 'string'\n        ? parseFloat(this.args.outerRadius)\n        : (this.args.outerRadius ?? 100);\n    const cornerRadius =\n      typeof this.args.cornerRadius === 'string'\n        ? parseFloat(this.args.cornerRadius)\n        : (this.args.cornerRadius ?? 0);\n    const padRadius =\n      typeof this.args.padRadius === 'string'\n        ? parseFloat(this.args.padRadius)\n        : this.args.padRadius;\n\n    let generator = arc()\n      .innerRadius(innerRadius)\n      .outerRadius(outerRadius)\n      .cornerRadius(cornerRadius)\n      .startAngle(this.startAngle)\n      .endAngle(this.endAngle);\n\n    if (this.padAngle) {\n      generator = generator.padAngle(this.padAngle);\n    }\n\n    if (padRadius !== undefined) {\n      generator = generator.padRadius(padRadius);\n    }\n\n    return generator;\n  }\n\n  @cached\n  get d() {\n    // @ts-expect-error: Bad type upstream\n    return this.arc();\n  }\n\n  @cached\n  get centroid() {\n    // @ts-expect-error: Bad type upstream\n    const [x, y] = this.arc.centroid();\n    return { x, y };\n  }\n\n  <template>\n    <path d={{this.d}} ...attributes></path>\n    {{yield (hash centroid=this.centroid)}}\n  </template>\n}\n"],"names":["Arc","Component","startAngle","parseAngle","args","n","prototype","cached","endAngle","Math","PI","padAngle","undefined","arc","innerRadius","parseFloat","outerRadius","cornerRadius","padRadius","generator","d","centroid","x","y","setComponentTemplate","precompileTemplate","strictMode","scope","hash"],"mappings":"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"}