{"version":3,"file":"v-bars.js","sources":["../../src/components/v-bars.gts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2020, 2026\n */\n\nimport Component from '@glimmer/component';\nimport { cached } from '@glimmer/tracking';\nimport { merge } from 'd3-array';\n\nimport { Encoding } from '../utils/encoding.ts';\nimport { ScaleLinear, ScaleOrdinal } from '../utils/scale.ts';\nimport { qualifyScale, scaleFrom } from '../utils/mark-utils.ts';\nimport { cssFourPropParse } from '../utils/css-four-prop-parse.ts';\nimport { roundedRect } from '../utils/rounded-rect.ts';\nimport CSSRange from '../utils/css-range.ts';\nimport Stack from '../transforms/stack.ts';\n\nimport type { Accessor } from '../utils/encoding.ts';\nimport type { Scale } from '../utils/scale.ts';\n\nexport interface BarsSignature {\n  Args: {\n    data: any[];\n    x?: Accessor;\n    y0?: Accessor;\n    y?: Accessor;\n    width: Accessor;\n    color?: Accessor;\n    xScale?: Scale;\n    yScale?: Scale;\n    widthScale?: Scale;\n    colorScale?: Scale | string;\n    borderRadius?: string;\n  };\n\n  Blocks: {\n    default: [];\n  };\n\n  Element: SVGGElement;\n}\n\nexport interface BarDatum {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  datum: any;\n  d?: string;\n}\n\nexport interface BarSeries {\n  bars: BarDatum[];\n  fill?: string;\n  cssClass?: string;\n}\n\nexport default class Bars extends Component<BarsSignature> {\n  @cached\n  get x() {\n    return new Encoding(this.args.x ?? 'x');\n  }\n\n  @cached\n  get y() {\n    return new Encoding(this.args.y ?? 'y');\n  }\n\n  @cached\n  get y0() {\n    if (this.args.y0) return new Encoding(this.args.y0);\n    return undefined;\n  }\n\n  @cached\n  get width() {\n    return new Encoding(this.args.width);\n  }\n\n  @cached\n  get color() {\n    if (this.args.color) return new Encoding(this.args.color);\n\n    return undefined;\n  }\n\n  @cached\n  get xScale() {\n    const scale =\n      scaleFrom(this.args.x ?? 'x', this.args.xScale) || new ScaleLinear();\n    if (this.isStacked) {\n      qualifyScale(this, scale, new Encoding('x'), 'x', merge(this.data));\n    } else {\n      qualifyScale(this, scale, this.x, 'x');\n    }\n    return scale;\n  }\n\n  @cached\n  get yScale() {\n    const scale =\n      scaleFrom(this.args.y ?? 'y', this.args.yScale) || new ScaleLinear();\n\n    // When the data is stacked, the scale must be qualified using the computed\n    // stack data since the cumulative y-values for an x-value will be greater than\n    // any individual y-value in the original dataset.\n    if (this.isStacked) {\n      qualifyScale(this, scale, new Encoding('y'), 'y', merge(this.data));\n    } else {\n      qualifyScale(this, scale, this.y, 'y');\n    }\n    return scale;\n  }\n\n  @cached\n  get widthScale() {\n    const scale =\n      scaleFrom(this.args.width, this.args.widthScale) || new ScaleLinear();\n    qualifyScale(this, scale, this.width, 'width');\n    return scale;\n  }\n\n  @cached\n  get isStacked(): boolean {\n    return !!this.color || this.args.data[0] instanceof Array;\n  }\n\n  @cached\n  get categories(): undefined | any[] {\n    if (this.isStacked) {\n      return this.data.map((series) => series.key);\n    }\n\n    return undefined;\n  }\n\n  @cached\n  get data(): any[] {\n    // When data isn't stacked, pass through\n    if (!this.isStacked) return this.args.data;\n\n    // When data is already stacked, pass through\n    if (this.args.data[0] instanceof Array) return this.args.data;\n\n    // Finally, stack data that should be stacked but isn't yet\n    return new Stack({\n      x: this.args.x ?? 'x',\n      y: this.args.y ?? 'y',\n      z: this.args.color!,\n      data: this.args.data,\n    }).data;\n  }\n\n  // When there is no color scale, don't color-code drawn points\n  @cached\n  get colorScale(): Scale | undefined {\n    const scale = this.args.colorScale;\n    if (scale && this.isStacked) {\n      if (scale instanceof Object) return scale;\n\n      return new ScaleOrdinal({\n        domain: Array.from(this.categories ?? []),\n        range: new CSSRange(scale),\n      });\n    }\n\n    return undefined;\n  }\n\n  @cached\n  get useCSSClass() {\n    return (\n      this.colorScale instanceof Object &&\n      this.colorScale.range instanceof CSSRange\n    );\n  }\n\n  @cached\n  get borderRadius() {\n    if (this.args.borderRadius) return cssFourPropParse(this.args.borderRadius);\n\n    return undefined;\n  }\n\n  @cached\n  get bars(): BarDatum[] | BarSeries[] {\n    if (\n      !this.xScale.isValid ||\n      !this.yScale.isValid ||\n      !this.widthScale.isValid\n    ) {\n      return [];\n    }\n\n    const borderRadius = this.borderRadius;\n\n    if (this.isStacked) {\n      return this.data.map((series) => {\n        const idx = series.visualOrder;\n        const barSeries: BarSeries = {\n          bars: series.map(\n            (d: any): BarDatum => ({\n              x: this.xScale.compute(d.x),\n              y: this.yScale.compute(d.y),\n              width: this.widthScale.compute(this.width.accessor(d)),\n              height: this.yScale.compute(d.y0) - this.yScale.compute(d.y),\n              datum: d,\n            }),\n          ),\n        };\n\n        if (borderRadius && (idx === 0 || idx === this.data.length - 1)) {\n          const radii = {\n            topLeft: borderRadius.top,\n            topRight: borderRadius.right,\n            bottomRight: borderRadius.bottom,\n            bottomLeft: borderRadius.left,\n          };\n\n          // When multi series, render top corners if first series,\n          // or the bottom coners if last series.\n          if (this.data.length > 1) {\n            Object.assign(\n              radii,\n              idx === 0\n                ? { topLeft: 0, topRight: 0 }\n                : { bottomLeft: 0, bottomRight: 0 },\n            );\n          }\n\n          barSeries.bars.forEach((bar) => {\n            bar.d = roundedRect(bar, radii, true);\n          });\n        }\n\n        if (this.colorScale) {\n          const colorValue = this.colorScale.compute(series.key);\n          if (this.useCSSClass) {\n            barSeries.cssClass = colorValue;\n          } else {\n            barSeries.fill = colorValue;\n          }\n        }\n\n        return barSeries;\n      });\n    } else {\n      const bars = this.args.data.map(\n        (d: any): BarDatum => ({\n          x: this.xScale.compute(this.x.accessor(d)),\n          y: this.yScale.compute(this.y.accessor(d)),\n          width: this.widthScale.compute(this.width.accessor(d)),\n          height:\n            this.yScale.compute(this.y0?.accessor(d) ?? 0) -\n            this.yScale.compute(this.y.accessor(d)),\n          datum: d,\n        }),\n      );\n\n      if (borderRadius) {\n        const radii = {\n          topLeft: borderRadius.top,\n          topRight: borderRadius.right,\n          bottomRight: borderRadius.bottom,\n          bottomLeft: borderRadius.left,\n        };\n\n        bars.forEach((bar) => {\n          bar.d = roundedRect(bar, radii, true);\n        });\n      }\n\n      return bars;\n    }\n  }\n\n  <template>\n    {{#if this.isStacked}}\n      <g>\n        {{! @glint-expect-error }}\n        {{#each this.bars as |series|}}\n          <g>\n            {{! @glint-expect-error }}\n            {{#each series.bars as |b|}}\n              {{#if b.d}}\n                <path\n                  d={{b.d}}\n                  {{! @glint-expect-error }}\n                  fill={{series.fill}}\n                  {{! @glint-expect-error }}\n                  class={{series.cssClass}}\n                  ...attributes\n                ></path>\n              {{else}}\n                <rect\n                  x={{b.x}}\n                  y={{b.y}}\n                  width={{b.width}}\n                  height={{b.height}}\n                  {{! @glint-expect-error }}\n                  fill={{series.fill}}\n                  {{! @glint-expect-error }}\n                  class={{series.cssClass}}\n                  ...attributes\n                ></rect>\n              {{/if}}\n            {{/each}}\n          </g>\n        {{/each}}\n      </g>\n    {{else}}\n      <g>\n        {{! @glint-expect-error }}\n        {{#each this.bars as |b|}}\n          {{#if b.d}}\n            <path d={{b.d}} ...attributes></path>\n          {{else}}\n            <rect\n              x={{b.x}}\n              y={{b.y}}\n              width={{b.width}}\n              height={{b.height}}\n              ...attributes\n            ></rect>\n          {{/if}}\n        {{/each}}\n      </g>\n    {{/if}}\n  </template>\n}\n"],"names":["Bars","Component","x","Encoding","args","n","prototype","cached","y","y0","undefined","width","color","xScale","scale","scaleFrom","ScaleLinear","isStacked","qualifyScale","merge","data","yScale","widthScale","Array","categories","map","series","key","Stack","z","colorScale","Object","ScaleOrdinal","domain","from","range","CSSRange","useCSSClass","borderRadius","cssFourPropParse","bars","isValid","idx","visualOrder","barSeries","d","compute","accessor","height","datum","length","radii","topLeft","top","topRight","right","bottomRight","bottom","bottomLeft","left","assign","forEach","bar","roundedRect","colorValue","cssClass","fill","setComponentTemplate","precompileTemplate","strictMode"],"mappings":"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"}